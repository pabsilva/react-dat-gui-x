{"version":3,"file":"index.es.js","sources":["../src/components/DatString.js","../src/components/utils.js","../src/components/Slider.js","../src/components/DatNumber.js","../src/components/DatBoolean.js","../src/components/DatButton.js","../src/components/DatFolder.js","../src/components/DatSelect.js","../src/components/Picker/Fields.js","../src/components/Picker/Pointer.js","../src/components/Picker/PointerCircle.js","../src/components/Picker/index.js","../src/components/DatColor.js","../src/components/DatPresets.js","../src/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport isString from 'lodash.isstring';\r\nimport result from 'lodash.result';\r\nimport cx from 'classnames';\r\n\r\nexport default class DatString extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object.isRequired,\r\n    path: PropTypes.string,\r\n    label: PropTypes.string,\r\n    labelWidth: PropTypes.string.isRequired,\r\n    liveUpdate: PropTypes.bool.isRequired,\r\n    onUpdate: PropTypes.func,\r\n    _onUpdateValue: PropTypes.func.isRequired,\r\n    onChange: PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    path: null,\r\n    label: null,\r\n    onUpdate: () => null,\r\n    onChange: () => null\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      value: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const nextValue = result(nextProps.data, nextProps.path);\r\n\r\n    if (prevState.value === nextValue) return null;\r\n\r\n    return {\r\n      value: nextValue\r\n    };\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { value } = event.target;\r\n    const { liveUpdate, path, onChange } = this.props;\r\n\r\n    if (liveUpdate) this.update(value);\r\n\r\n    onChange(path, value);\r\n  };\r\n\r\n  handleFocus = () => {\r\n    document.addEventListener('keydown', this.handleKeyDown);\r\n  };\r\n\r\n  handleBlur = () => {\r\n    document.removeEventListener('keydown', this.handleKeyDown);\r\n    window.getSelection().removeAllRanges();\r\n\r\n    const { liveUpdate } = this.props;\r\n    if (!liveUpdate) this.update();\r\n  };\r\n\r\n  handleKeyDown = event => {\r\n    const key = event.keyCode || event.which;\r\n    const { liveUpdate } = this.props;\r\n\r\n    if (key === 13 && !liveUpdate) this.update();\r\n  };\r\n\r\n  update(value) {\r\n    const { _onUpdateValue, onUpdate, path } = this.props;\r\n    _onUpdateValue(path, value);\r\n    onUpdate(value);\r\n  }\r\n\r\n  render() {\r\n    const { path, label, labelWidth, className, style } = this.props;\r\n    const labelText = isString(label) ? label : path;\r\n\r\n    return (\r\n      <li className={cx('cr', 'string', className)} style={style}>\r\n        <label>\r\n          <span className=\"label-text\" style={{ width: labelWidth }}>\r\n            {labelText}\r\n          </span>\r\n          <input\r\n            style={{ width: `calc(100% - ${labelWidth})` }}\r\n            type=\"text\"\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            onFocus={this.handleFocus}\r\n            onBlur={this.handleBlur}\r\n          />\r\n        </label>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-restricted-globals */\r\nexport function toNumber(value) {\r\n  const float = parseFloat(value);\r\n  return isNaN(float) ? 0 : float;\r\n}\r\n\r\n/**\r\n * Polyfill for isInteger.\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger#Polyfill\r\n * @param {number} value\r\n * @return {bool}\r\n */\r\nexport const isInteger =\r\n  Number.isInteger ||\r\n  // eslint-disable-next-line func-names\r\n  function(value) {\r\n    return (\r\n      typeof value === 'number' &&\r\n      isFinite(value) &&\r\n      Math.floor(value) === value\r\n    );\r\n  };\r\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/control-has-associated-label */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clamp from 'lodash.clamp';\r\nimport cx from 'classnames';\r\nimport { toNumber } from './utils';\r\n\r\nexport default class Slider extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\r\n    min: PropTypes.number,\r\n    max: PropTypes.number,\r\n    width: PropTypes.number,\r\n    onUpdate: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    value: null,\r\n    min: null,\r\n    max: null,\r\n    width: null\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = { value: null };\r\n    this.sliderRef = React.createRef();\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const nextValue = toNumber(nextProps.value);\r\n\r\n    if (prevState.value === nextValue) return null;\r\n\r\n    return {\r\n      value: nextValue\r\n    };\r\n  }\r\n\r\n  handleMouseDown = event => {\r\n    this.update(event.pageX);\r\n\r\n    window.addEventListener('mousemove', this.handleMouseMove);\r\n    window.addEventListener('mouseup', this.handleMouseUp);\r\n  };\r\n\r\n  handleMouseMove = event => {\r\n    this.update(event.pageX);\r\n\r\n    event.preventDefault();\r\n  };\r\n\r\n  handleMouseUp = event => {\r\n    this.update(event.pageX, false);\r\n\r\n    window.removeEventListener('mousemove', this.handleMouseMove);\r\n    window.removeEventListener('mouseup', this.handleMouseUp);\r\n  };\r\n\r\n  handleClick = event => {\r\n    // do not focus input field on slider click\r\n    event.preventDefault();\r\n  };\r\n\r\n  update(pageX, isLive = true) {\r\n    const { min, max, onUpdate } = this.props;\r\n    const rect = this.sliderRef.current.getBoundingClientRect();\r\n    const x = pageX - rect.left;\r\n    const w = rect.right - rect.left;\r\n    const value = min + clamp(x / w, 0, 1) * (max - min);\r\n\r\n    this.setState({ value }, () => {\r\n      onUpdate(value, isLive);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { min, max, width, className, style } = this.props;\r\n    const { value } = this.state;\r\n    const widthBackground = clamp(((value - min) * 100) / (max - min), 0, 100);\r\n    const sliderStyles = {\r\n      width: `${width}%`,\r\n      backgroundSize: `${widthBackground}% 100%`,\r\n      ...style\r\n    };\r\n\r\n    return (\r\n      <span\r\n        ref={this.sliderRef}\r\n        className={cx('slider', className)}\r\n        style={sliderStyles}\r\n        onClick={this.handleClick}\r\n        onMouseDown={this.handleMouseDown}\r\n        role=\"slider\"\r\n        tabIndex={0}\r\n        aria-valuenow={value}\r\n        aria-valuemin={min}\r\n        aria-valuemax={max}\r\n      />\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable no-param-reassign */\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport isFinite from 'lodash.isfinite';\r\nimport isString from 'lodash.isstring';\r\nimport result from 'lodash.result';\r\nimport cx from 'classnames';\r\nimport Slider from './Slider';\r\nimport { isInteger, toNumber } from './utils';\r\n\r\nconst applyConstraints = ({ value, min, max, step }) => {\r\n  const [hasMin, hasMax, hasStep] = [\r\n    isFinite(min),\r\n    isFinite(max),\r\n    isFinite(step)\r\n  ];\r\n  const decimalPlaces =\r\n    hasStep && !isInteger(step) ? step.toString().split('.')[1].length : 0;\r\n  let [isMin, isMax] = [false, false];\r\n\r\n  value = toNumber(value);\r\n\r\n  if (hasMin && value <= min) {\r\n    value = min;\r\n    isMin = true;\r\n  }\r\n\r\n  if (hasMax && value >= max) {\r\n    value = max;\r\n    isMax = true;\r\n  }\r\n\r\n  if (!isMin && !isMax) {\r\n    if (hasStep && step !== 0) {\r\n      value = Math.round(value / step) * step;\r\n    }\r\n  }\r\n\r\n  return value.toFixed(decimalPlaces);\r\n};\r\n\r\nexport default class DatNumber extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    min: PropTypes.number,\r\n    max: PropTypes.number,\r\n    step: PropTypes.number,\r\n    data: PropTypes.object.isRequired,\r\n    path: PropTypes.string,\r\n    label: PropTypes.string,\r\n    labelWidth: PropTypes.string.isRequired,\r\n    _onUpdateValue: PropTypes.func.isRequired,\r\n    disableSlider: PropTypes.bool,\r\n    onChange: PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    min: null,\r\n    max: null,\r\n    step: null,\r\n    path: null,\r\n    label: null,\r\n    disableSlider: null,\r\n    onChange: () => null\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = { value: null };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps) {\r\n    const { min, max, step } = nextProps;\r\n    const nextValue = applyConstraints({\r\n      value: result(nextProps.data, nextProps.path),\r\n      min,\r\n      max,\r\n      step\r\n    });\r\n\r\n    return {\r\n      value: nextValue\r\n    };\r\n  }\r\n\r\n  handleChange = event => {\r\n    const { value } = event.target;\r\n    this.update(value);\r\n  };\r\n\r\n  handleSliderUpdate = value => {\r\n    const { min, max, step } = this.props;\r\n\r\n    this.update(applyConstraints({ value, min, max, step }));\r\n  };\r\n\r\n  update = value => {\r\n    const { _onUpdateValue, path,onChange } = this.props;\r\n\r\n    _onUpdateValue(path, toNumber(value));\r\n    onChange(path, value);\r\n  };\r\n\r\n  renderSlider(width) {\r\n    const { min, max } = this.props;\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <Slider\r\n        value={value}\r\n        min={min}\r\n        max={max}\r\n        width={width}\r\n        onUpdate={this.handleSliderUpdate}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      min,\r\n      max,\r\n      path,\r\n      label,\r\n      labelWidth,\r\n      step,\r\n      disableSlider,\r\n      className,\r\n      style\r\n    } = this.props;\r\n    const labelText = isString(label) ? label : path;\r\n    const hasSlider = isFinite(min) && isFinite(max);\r\n    const controlsWidth = 100;\r\n    const inputWidth =\r\n      hasSlider && disableSlider !== true\r\n        ? Math.round(controlsWidth / 3)\r\n        : controlsWidth;\r\n    const sliderWidth = controlsWidth - inputWidth;\r\n\r\n    return (\r\n      <li className={cx('cr', 'number', className)} style={style}>\r\n        <label>\r\n          <span className=\"label-text\" style={{ width: labelWidth }}>\r\n            {labelText}\r\n          </span>\r\n          <span\r\n            style={{ display: 'inherit', width: `calc(100% - ${labelWidth})` }}\r\n          >\r\n            {hasSlider && disableSlider !== true\r\n              ? this.renderSlider(sliderWidth)\r\n              : null}\r\n            <input\r\n              type=\"number\"\r\n              step={step}\r\n              min={min}\r\n              max={max}\r\n              inputMode=\"numeric\"\r\n              value={this.state.value}\r\n              style={{ width: `${inputWidth}%` }}\r\n              onChange={this.handleChange}\r\n            />\r\n          </span>\r\n        </label>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport isString from 'lodash.isstring';\r\nimport result from 'lodash.result';\r\nimport cx from 'classnames';\r\n\r\nexport default class DatBoolean extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object.isRequired,\r\n    path: PropTypes.string,\r\n    label: PropTypes.string,\r\n    labelWidth: PropTypes.string.isRequired,\r\n    _onUpdateValue: PropTypes.func.isRequired,\r\n    onChange: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    path: null,\r\n    label: null,\r\n    onChange: () => null\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const nextValue = result(nextProps.data, nextProps.path);\r\n\r\n    if (prevState.value === nextValue) return null;\r\n\r\n    return {\r\n      value: nextValue\r\n    };\r\n  }\r\n\r\n  handleChange = event => {\r\n    const value = event.target.checked;\r\n    const { _onUpdateValue, path, onChange } = this.props;\r\n\r\n    _onUpdateValue(path, value);\r\n    onChange(path, value);\r\n  };\r\n\r\n  render() {\r\n    const { path, label, labelWidth, className, style } = this.props;\r\n    const labelText = isString(label) ? label : path;\r\n\r\n    return (\r\n      <li className={cx('cr', 'boolean', className)} style={style}>\r\n        <label>\r\n          <span className=\"label-text\" style={{ width: labelWidth }}>\r\n            {labelText}\r\n          </span>\r\n          <span\r\n            className=\"checkbox-container\"\r\n            style={{ width: `calc(100% - ${labelWidth})` }}\r\n          >\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={this.state.value}\r\n              onChange={this.handleChange}\r\n            />\r\n          </span>\r\n        </label>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nconst DatButton = ({ label, onClick, className, style }) => (\r\n  <li className={cx('cr', 'button', className)} style={style}>\r\n    <span\r\n      className=\"label-text\"\r\n      onClick={onClick}\r\n      onKeyPress={onClick}\r\n      role=\"button\"\r\n      tabIndex={0}\r\n    >\r\n      {label}\r\n    </span>\r\n  </li>\r\n);\r\n\r\nDatButton.propTypes = {\r\n  className: PropTypes.string,\r\n  style: PropTypes.object,\r\n  label: PropTypes.string,\r\n  onClick: PropTypes.func.isRequired\r\n};\r\n\r\nDatButton.defaultProps = {\r\n  className: null,\r\n  style: null,\r\n  label: null\r\n};\r\n\r\nexport default DatButton;\r\n","import React, { Component, cloneElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cx from 'classnames';\r\n\r\nexport default class DatFolder extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    title: PropTypes.string,\r\n    closed: PropTypes.bool,\r\n    children: PropTypes.element.isRequired,\r\n    //onChange: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    title: 'Folder',\r\n    closed: true,\r\n    //onChange: () => null This is causing the callbacks to be overriden in the components inside the folder\r\n    //we need to check why\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { closed: props.closed };\r\n  }\r\n\r\n  handleClick = () =>\r\n    this.setState(prevState => ({ closed: !prevState.closed }));\r\n\r\n  renderChildren() {\r\n    // Disable this rule to take title out of the props so nested folders can have unique titles.\r\n    // eslint-disable-next-line no-unused-vars\r\n    const { children, title, ...rest } = this.props;\r\n\r\n    return React.Children.toArray(children)\r\n      .filter(child => child != null).map(child =>\r\n        cloneElement(child, { ...rest })\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { closed } = this.state;\r\n    const { title, className, style } = this.props;\r\n\r\n    return (\r\n      <li className={cx('folder', { closed }, className)} style={style}>\r\n        <div className=\"dg\">\r\n          <div\r\n            className=\"title\"\r\n            onClick={this.handleClick}\r\n            onKeyPress={this.handleClick}\r\n            role=\"button\"\r\n            tabIndex={0}\r\n          >\r\n            {title}\r\n          </div>\r\n          <ul>{this.renderChildren()}</ul>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport isString from 'lodash.isstring';\r\nimport result from 'lodash.result';\r\nimport cx from 'classnames';\r\n\r\nexport default class DatSelect extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object.isRequired,\r\n    path: PropTypes.string,\r\n    label: PropTypes.string,\r\n    options: PropTypes.array.isRequired,\r\n    optionLabels: PropTypes.array,\r\n    labelWidth: PropTypes.string.isRequired,\r\n    liveUpdate: PropTypes.bool.isRequired,\r\n    onUpdate: PropTypes.func,\r\n    _onUpdateValue: PropTypes.func.isRequired,\r\n    onChange: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    path: null,\r\n    label: null,\r\n    optionLabels: null,\r\n    onUpdate: () => null,\r\n    onChange: () => null\r\n  };\r\n\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      value: null,\r\n      options: null\r\n    };\r\n  }\r\n\r\n\r\n  static getDerivedStateFromProps(nextProps) {\r\n    const nextValue = result(nextProps.data, nextProps.path);\r\n\r\n    return {\r\n      value: nextValue,\r\n      options: nextProps.options\r\n    };\r\n  }\r\n\r\n\r\n  handleChange = event => {\r\n    const {value} = event.target;\r\n    const {liveUpdate, _onUpdateValue, onUpdate, path, onChange} = this.props;\r\n    _onUpdateValue(path, value);\r\n    if (liveUpdate) onUpdate(value);\r\n\r\n    onChange(path, value);\r\n  };\r\n\r\n\r\n  render() {\r\n    const {\r\n      path,\r\n      label,\r\n      labelWidth,\r\n      optionLabels,\r\n      className,\r\n      style\r\n    } = this.props;\r\n    const {value, options} = this.state;\r\n    const labelText = isString(label) ? label : path;\r\n\r\n    return (\r\n      <li className={cx('cr', 'select', className)} style={style}>\r\n        <label>\r\n          <span className=\"label-text\" style={{width: labelWidth}}>\r\n            {labelText}\r\n          </span>\r\n          <select\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            style={{width: `calc(100% - ${labelWidth})`}}\r\n          >\r\n            {\r\n              Array.isArray(options) ?\r\n              options.map((item, index) => (\r\n                // eslint-disable-next-line react/no-array-index-key\r\n                <option key={index} value={item}>\r\n                {optionLabels ? optionLabels[index] : item}\r\n                </option>\r\n              ))\r\n\r\n              : Object.entries(options).map(([key, value]) => (\r\n                  // eslint-disable-next-line react/no-array-index-key\r\n                  <option key={key} value={key}>\r\n                    {optionLabels ? optionLabels[key] : value}\r\n                  </option>\r\n                ))\r\n            }\r\n          </select>\r\n        </label>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { EditableInput } from 'react-color/lib/components/common';\r\nimport color from 'react-color/lib/helpers/color';\r\n\r\nexport default class Fields extends Component {\r\n  static propTypes = {\r\n    hex: PropTypes.string.isRequired,\r\n    onChange: PropTypes.func.isRequired\r\n  };\r\n\r\n  handleChange = (value, e) => {\r\n    const { onChange } = this.props;\r\n\r\n    if (color.isValidHex(value))\r\n      onChange(\r\n        {\r\n          hex: value,\r\n          source: 'hex'\r\n        },\r\n        e\r\n      );\r\n  };\r\n\r\n  render() {\r\n    const { hex } = this.props;\r\n\r\n    return (\r\n      <div className=\"flexbox-fix fields-wrap\">\r\n        <div className=\"flexbox-fix fields\">\r\n          <div className=\"field\">\r\n            <EditableInput value={hex} onChange={this.handleChange} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nconst Pointer = () => <div className=\"pointer\" />;\r\n\r\nexport default Pointer;\r\n","import React from 'react';\r\n\r\nconst PointerCircle = () => <div className=\"pointer-circle\" />;\r\n\r\nexport default PointerCircle;\r\n","import { ColorWrap, Hue, Saturation } from 'react-color/lib/components/common';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Fields from './Fields';\r\nimport Pointer from './Pointer';\r\nimport PointerCircle from './PointerCircle';\r\n\r\nconst Picker = ({ onChange, hsl, hsv, hex, className = '' }) => {\r\n  return (\r\n    <div className={`picker ${className}`}>\r\n      <div className=\"saturation-wrap\">\r\n        <Saturation\r\n          className=\"saturation\"\r\n          hsl={hsl}\r\n          hsv={hsv}\r\n          pointer={PointerCircle}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"body\">\r\n        <div className=\"controls\">\r\n          <div className=\"toggles\">\r\n            <div className=\"hue-wrap\">\r\n              <Hue\r\n                className=\"hue\"\r\n                hsl={hsl}\r\n                pointer={Pointer}\r\n                onChange={onChange}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Fields hex={hex} onChange={onChange} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nPicker.propTypes = {\r\n  onChange: PropTypes.func.isRequired,\r\n  hsl: PropTypes.string,\r\n  hsv: PropTypes.string,\r\n  hex: PropTypes.string,\r\n  className: PropTypes.string,\r\n  disableAlpha: PropTypes.bool\r\n};\r\n\r\nPicker.defaultProps = {\r\n  hsl: null,\r\n  hsv: null,\r\n  hex: null,\r\n  className: null,\r\n  disableAlpha: false\r\n};\r\n\r\nexport default ColorWrap(Picker);\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport isString from 'lodash.isstring';\r\nimport result from 'lodash.result';\r\nimport cx from 'classnames';\r\nimport ColorPicker from './Picker';\r\n\r\nexport default class DatColor extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object.isRequired,\r\n    path: PropTypes.string,\r\n    label: PropTypes.string,\r\n    labelWidth: PropTypes.string.isRequired,\r\n    _onUpdateValue: PropTypes.func.isRequired,\r\n    onChange: PropTypes.func\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    path: null,\r\n    label: null,\r\n    onChange: () => null\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      value: null,\r\n      displayColorPicker: false\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const nextValue = result(nextProps.data, nextProps.path);\r\n\r\n    return {\r\n      ...prevState,\r\n      value: nextValue\r\n    };\r\n  }\r\n\r\n  handleClickColorPicker = () =>\r\n    this.setState(prevState => ({\r\n      ...prevState,\r\n      displayColorPicker: !prevState.displayColorPicker\r\n    }));\r\n\r\n  handleCloseColorPicker = () =>\r\n    this.setState({\r\n      displayColorPicker: false\r\n    });\r\n\r\n  handleChangeColor = color => {\r\n    const value = isString(color) ? color : color.hex;\r\n    const { _onUpdateValue, path, onChange } = this.props;\r\n\r\n    _onUpdateValue(path, value);\r\n    onChange(path, value);\r\n  };\r\n\r\n  renderPicker() {\r\n    const { value, displayColorPicker } = this.state;\r\n\r\n    return !displayColorPicker ? null : (\r\n      <div className=\"popover\">\r\n        {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\r\n        <div\r\n          className=\"cover\"\r\n          onClick={this.handleCloseColorPicker}\r\n          onKeyPress={this.handleCloseColorPicker}\r\n          role=\"button\"\r\n          tabIndex={0}\r\n        />\r\n        <ColorPicker color={value} onChange={this.handleChangeColor} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { path, label, labelWidth, className, style } = this.props;\r\n    const { value } = this.state;\r\n    const labelText = isString(label) ? label : path;\r\n\r\n    return (\r\n      <li\r\n        className={cx('cr', 'color', className)}\r\n        style={{ borderLeftColor: `${value}`, ...style }}\r\n      >\r\n        <label>\r\n          <span className=\"label-text\" style={{ width: labelWidth }}>\r\n            {labelText}\r\n          </span>\r\n          <div\r\n            style={{\r\n              backgroundColor: value,\r\n              width: `calc(100% - ${labelWidth})`\r\n            }}\r\n          >\r\n            <div\r\n              className=\"swatch\"\r\n              onClick={this.handleClickColorPicker}\r\n              onKeyPress={this.handleClickColorPicker}\r\n              role=\"button\"\r\n              tabIndex={0}\r\n            >\r\n              {value}\r\n            </div>\r\n            {this.renderPicker()}\r\n          </div>\r\n        </label>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cloneDeep from 'lodash.clonedeep';\r\nimport isString from 'lodash.isstring';\r\nimport cx from 'classnames';\r\n\r\nconst DEFAULT_PRESET_KEY = 'Default';\r\n\r\nexport default class DatPresets extends Component {\r\n  static propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object.isRequired,\r\n    path: PropTypes.string,\r\n    label: PropTypes.string.isRequired,\r\n    options: PropTypes.array.isRequired,\r\n    labelWidth: PropTypes.string.isRequired,\r\n    liveUpdate: PropTypes.bool.isRequired,\r\n    onUpdate: PropTypes.func.isRequired\r\n  };\r\n\r\n  static defaultProps = {\r\n    className: null,\r\n    style: null,\r\n    path: null\r\n  };\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      defaultPreset: null,\r\n      options: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    const nextValue = cloneDeep(nextProps.data);\r\n    const defaultPreset = prevState.defaultPreset\r\n      ? prevState.defaultPreset\r\n      : nextValue;\r\n\r\n    return {\r\n      defaultPreset,\r\n      options: [\r\n        { [DEFAULT_PRESET_KEY]: defaultPreset },\r\n        ...nextProps.options.filter(preset => {\r\n          return Object.keys(preset)[0] !== DEFAULT_PRESET_KEY;\r\n        })\r\n      ]\r\n    };\r\n  }\r\n\r\n  handleChange = event => {\r\n    const value = JSON.parse(event.target.value);\r\n    const { liveUpdate, onUpdate } = this.props;\r\n\r\n    if (liveUpdate) onUpdate(value);\r\n  };\r\n\r\n  render() {\r\n    const { path, label, labelWidth, className, style } = this.props;\r\n    const { options } = this.state;\r\n    const labelText = isString(label) ? label : path;\r\n\r\n    return (\r\n      <li className={cx('cr', 'presets', className)} style={style}>\r\n        <label>\r\n          <span className=\"label-text\" style={{ width: labelWidth }}>\r\n            {labelText}\r\n          </span>\r\n          <select\r\n            onChange={this.handleChange}\r\n            style={{ width: `calc(100% - ${labelWidth})` }}\r\n          >\r\n            {options.map(preset => {\r\n              return Object.keys(preset).map(key => {\r\n                return (\r\n                  <option key={key} value={JSON.stringify(preset[key])}>\r\n                    {key}\r\n                  </option>\r\n                );\r\n              });\r\n            })}\r\n          </select>\r\n        </label>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React, { Component, cloneElement } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport cloneDeep from 'lodash.clonedeep';\r\nimport cx from 'classnames';\r\nimport isUndefined from 'lodash.isundefined';\r\nimport set from 'lodash.set';\r\nimport './style/dat.scss';\r\n\r\nexport default class DatGui extends Component {\r\n  static propTypes = {\r\n    data: PropTypes.object.isRequired,\r\n    children: PropTypes.node.isRequired,\r\n    onUpdate: PropTypes.func.isRequired,\r\n    liveUpdate: PropTypes.bool,\r\n    labelWidth: PropTypes.string,\r\n    className: PropTypes.string,\r\n    style: PropTypes.object\r\n  };\r\n\r\n  static defaultProps = {\r\n    liveUpdate: true,\r\n    className: null,\r\n    style: null,\r\n    labelWidth: '40%'\r\n  };\r\n\r\n  handleUpdateValue = (path, value) => {\r\n    const { data, onUpdate } = this.props;\r\n    const dataUpdated = set(cloneDeep(data), path, value);\r\n\r\n    onUpdate(dataUpdated);\r\n  };\r\n\r\n  renderChildren() {\r\n    const { children, data } = this.props;\r\n\r\n    return React.Children.toArray(children)\r\n      .filter(child => child != null)\r\n      .map((child, i) => {\r\n      const liveUpdate = isUndefined(child.props.liveUpdate)\r\n        ? this.props.liveUpdate\r\n        : child.props.liveUpdate;\r\n      const labelWidth = isUndefined(child.props.labelWidth)\r\n        ? this.props.labelWidth\r\n        : child.props.labelWidth;\r\n\r\n      return cloneElement(child, {\r\n        key: i,\r\n        data,\r\n        liveUpdate,\r\n        labelWidth,\r\n        _onUpdateValue: this.handleUpdateValue\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { style, className } = this.props;\r\n    const classNames = cx('react-dat-gui', className);\r\n\r\n    return (\r\n      <div className={classNames} style={style}>\r\n        <ul className=\"dg main\">{this.renderChildren()}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { default as DatString } from './components/DatString';\r\nexport { default as DatNumber } from './components/DatNumber';\r\nexport { default as DatBoolean } from './components/DatBoolean';\r\nexport { default as DatButton } from './components/DatButton';\r\nexport { default as DatFolder } from './components/DatFolder';\r\nexport { default as DatSelect } from './components/DatSelect';\r\nexport { default as DatColor } from './components/DatColor';\r\nexport { default as DatPresets } from './components/DatPresets';\r\n"],"names":["DatString","event","value","target","props","liveUpdate","path","onChange","update","document","addEventListener","handleKeyDown","removeEventListener","window","getSelection","removeAllRanges","key","keyCode","which","state","_onUpdateValue","onUpdate","label","labelWidth","className","style","labelText","isString","cx","width","handleChange","handleFocus","handleBlur","nextProps","prevState","nextValue","result","data","Component","toNumber","float","parseFloat","isNaN","isInteger","Number","isFinite","Math","floor","Slider","pageX","handleMouseMove","handleMouseUp","preventDefault","sliderRef","React","createRef","isLive","min","max","rect","current","getBoundingClientRect","x","left","w","right","clamp","setState","widthBackground","sliderStyles","backgroundSize","handleClick","handleMouseDown","applyConstraints","step","hasMin","hasMax","hasStep","decimalPlaces","toString","split","length","isMin","isMax","round","toFixed","DatNumber","handleSliderUpdate","disableSlider","hasSlider","controlsWidth","inputWidth","sliderWidth","display","renderSlider","DatBoolean","checked","DatButton","onClick","defaultProps","DatFolder","closed","children","title","rest","Children","toArray","filter","child","map","cloneElement","renderChildren","DatSelect","options","optionLabels","Array","isArray","item","index","Object","entries","Fields","e","color","isValidHex","hex","source","Pointer","PointerCircle","Picker","hsl","hsv","disableAlpha","ColorWrap","DatColor","displayColorPicker","handleCloseColorPicker","handleChangeColor","borderLeftColor","backgroundColor","handleClickColorPicker","renderPicker","DEFAULT_PRESET_KEY","DatPresets","JSON","parse","defaultPreset","preset","keys","stringify","cloneDeep","DatGui","dataUpdated","set","i","isUndefined","handleUpdateValue","classNames"],"mappings":"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"}